!function(e){function n(e){var t=e.changedTouches,n=t[0],r="";switch(e.type){case"touchstart":r="mousedown";break;case"touchmove":r="mousemove";break;case"touchend":r="mouseup";break;default:return}var i=document.createEvent("MouseEvent");var s=2;if(navigator.userAgent.match(/Android/i)){s=10}i.initMouseEvent(r,true,true,window,1,n.screenX,n.screenY,n.clientX*s,n.clientY*s,false,false,false,false,0,null);n.target.dispatchEvent(i)}var t={autospin:"1000ms",angle:"20deg",glow:"rgba(255, 255, 255, 0.34902) 0px 0px 50px, inset 33px 20px 50px rgba(0,0,0,0.5)",pattern:"img/texture-earth.jpg",size:"100x100","float":true,space:"body",ring:false,ringColor:"#fff",ringAngle:"20deg"};e.fn.planetarium=function(r){var i=e.extend({},t,r),s=e(this);document.addEventListener("touchstart",n,true);document.addEventListener("touchmove",n,true);document.addEventListener("touchend",n,true);document.addEventListener("touchcancel",n,true);s.each(function(t,n){function w(t){var n={x:false,y:false},r={x:y.x-(g.x-t.clientX),y:y.y-(g.y-t.clientY)};n.x=true;if(b&&n.x){y.x=r.x;y.y=0}e(this).find(".ptr-planet").css("background-position",y.x+"px "+y.y+"px");g.x=t.clientX;g.y=t.clientY;t.stopPropagation();return false}function E(t){b=false;v.unbind("mousemove",w);if(t.type=="mousedown"){v.parent().addClass("ptr-interacting");g.x=t.clientX;g.y=t.clientY;b=true;v.parent().bind("mousemove",w)}else{v.parent().removeClass("ptr-interacting");e(document.body).focus()}t.stopPropagation();return false}function S(){y={x:0,y:0};e(this).css("backgroundPosition","0 0")}var r=e(this);var s=r.data("ptr-autospin")||i.autospin,o=r.data("ptr-angle")||i.angle,u=r.data("ptr-glow")||i.glow,a=r.data("ptr-pattern")||i.pattern,f=r.data("ptr-size")||i.size,l=r.data("ptr-float")||i.float,c=r.data("ptr-ring")||i.ring,h=r.data("ptr-ringcolor")||i.ringColor,p=r.data("ptr-ringangle")||i.ringAngle,d=f.split("x");e(i.space).addClass("ptr-space");r.addClass("ptr-shape");r.wrapInner("<div class='ptr-planet'></div>");if(c==true){r.append("<div class='ptr-ring'></div>");r.find(".ptr-ring").css({background:h,height:"2px",width:d[0]*1.5,transform:"rotate("+p+")","-moz-transform":"rotate("+p+")","-webkit-transform":"rotate("+p+")","margin-left":d[0]*1.5/2*-1,"margin-top":-1.5})}if(l==true)r.find(".ptr-planet").addClass("ptr-float");r.find(".ptr-planet").css({width:d[0],height:d[1],"box-shadow":u,background:"url("+a+") repeat","background-size":"cover","-moz-background-size":"cover","-webkit-background-size":"cover",transform:"rotate("+o+")","-moz-transform":"rotate("+o+")","-webkit-transform":"rotate("+o+")"});if(s!=false){r.find(".ptr-planet").css({animation:"rotate "+s+" infinite linear","-webkit-animation":"rotate "+s+" infinite linear","-moz-animation":"rotate "+s+" infinite linear"})}var v=r.find(".ptr-planet"),m={w:parseInt(v.parent().width()),h:parseInt(v.parent().height())},g={x:0,y:0},y={x:0,y:0},b=false;v.parent().bind("mousedown mouseup mouseleave",E);v.parent().bind("dblclick",S)})}}(window.jQuery)